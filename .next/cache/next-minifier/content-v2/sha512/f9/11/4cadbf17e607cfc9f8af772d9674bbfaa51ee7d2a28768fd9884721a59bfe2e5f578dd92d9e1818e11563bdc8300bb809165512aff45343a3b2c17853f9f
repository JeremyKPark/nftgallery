{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{\"0ppn\":function(e,n,t){e.exports={subheader:\"Home_subheader__32KP_\",showcase:\"Home_showcase__14O3g\",loading:\"Home_loading__3Mebc\",showcase__more:\"Home_showcase__more__HDuuX\"}},\"Rw/9\":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/[indexold]\",function(){return t(\"cB56\")}])},cB56:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"default\",(function(){return m}));var a=t(\"nKUr\"),r=t(\"KQm4\"),c=t(\"o0o1\"),s=t.n(c),o=t(\"HaE+\"),i=t(\"KSab\"),d=t(\"tQ5z\"),u=t(\"5Yp1\"),h=t(\"q1tI\"),b=t(\"OcCo\"),l=t(\"0ppn\"),j=t.n(l),p=t(\"gCbI\");function m(){var e=Object(h.useState)([]),n=e[0],t=e[1],c=Object(h.useState)(!1),l=c[0],m=c[1],_=Object(h.useState)(null),f=_[0],x=_[1],O=function(){var e=Object(o.a)(s.a.mark((function e(){var n,a,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.request(p.a);case 2:if(n=e.sent,a=Object(p.d)(n),r=[],!a){e.next=15;break}c=a;case 7:if(!(c>=a-5)){e.next=15;break}return e.next=10,Object(b.a)(c);case 10:o=e.sent,r.push(o);case 12:c--,e.next=7;break;case 15:t([].concat(r)),x(a-6);case 17:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(s.a.mark((function e(){var a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),a=[],console.log(Math.max(f-5,0),f),c=f;case 4:if(!(c>=Math.max(f-5,0))){e.next=13;break}if(2===c){e.next=10;break}return e.next=8,Object(b.a)(c);case 8:o=e.sent,a.push(o);case 10:c--,e.next=4;break;case 13:t([].concat(Object(r.a)(n),a)),x(f-6),m(!1);case 16:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)(O,[]),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(\"div\",{className:j.a.subheader,children:Object(a.jsxs)(\"span\",{children:[\"Zora.Gallery is an\",\" \",Object(a.jsx)(\"a\",{href:\"https://github.com/anish-agnihotri/zora.gallery\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"open-source\"}),\" \",\"community-operated interface to\",\" \",Object(a.jsx)(\"a\",{href:\"https://zora.engineering\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"ZoraOS\"}),\".\"]})}),n.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"div\",{className:j.a.showcase,children:n.map((function(e,n){return Object(a.jsx)(d.a,{creatorAddress:e.creator.id,ownerAddress:e.owner.id,createdAtTimestamp:e.createdAtTimestamp,mimeType:e.metadata.mimeType,contentURI:e.contentURI,name:e.metadata.name},n)}))}),n&&n.length>0&&\"0\"!==n[n.length-1].id?Object(a.jsx)(\"div\",{className:j.a.showcase__more,children:Object(a.jsx)(\"button\",{onClick:function(){return w()},disabled:l,children:l?\"Loading...\":\"Load More\"})}):Object(a.jsx)(\"div\",{className:j.a.showcase__more,children:Object(a.jsx)(\"span\",{children:\"Is this the end or beginning? You decide.\"})})]}):Object(a.jsx)(\"div\",{className:j.a.loading,children:Object(a.jsx)(\"h3\",{children:\"Loading...\"})})]})}}},[[\"Rw/9\",1,2,3,0,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/[indexold]-a68dae1e358276a1dc12.js"],"names":["_N_E","window","push","0ppn","module","exports","__webpack_require__","subheader","showcase","loading","showcase__more","Rw/9","__NEXT_P","cB56","__webpack_exports__","r","d","Home","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_data_index__WEBPACK_IMPORTED_MODULE_4__","_components_Post__WEBPACK_IMPORTED_MODULE_5__","_components_Layout__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_7__","_data_functions__WEBPACK_IMPORTED_MODULE_8__","_styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9__","_styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default","_data_queries__WEBPACK_IMPORTED_MODULE_10__","_useState","Object","posts","setPosts","_useState2","setLoading","_useState3","numPosts","setNumPosts","collectInitialPosts","_ref","a","mark","_callee","allUsers","initialPosts","i","post","wrap","_context","prev","next","request","sent","concat","stop","apply","this","arguments","collectMore","_ref2","_callee2","newPosts","_context2","console","log","Math","max","children","className","href","target","rel","length","map","creatorAddress","creator","id","ownerAddress","owner","createdAtTimestamp","mimeType","metadata","contentURI","name","onClick","disabled"],"mappings":"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"},"name":"static/chunks/pages/[indexold]-a68dae1e358276a1dc12.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[9],{\n\n/***/ \"0ppn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"subheader\":\"Home_subheader__32KP_\",\"showcase\":\"Home_showcase__14O3g\",\"loading\":\"Home_loading__3Mebc\",\"showcase__more\":\"Home_showcase__more__HDuuX\"};\n\n/***/ }),\n\n/***/ \"Rw/9\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/[indexold]\",\n        function () {\n          return __webpack_require__(\"cB56\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"cB56\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Home; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"KQm4\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _data_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"KSab\");\n/* harmony import */ var _components_Post__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"tQ5z\");\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _data_functions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"OcCo\");\n/* harmony import */ var _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"0ppn\");\n/* harmony import */ var _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _data_queries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"gCbI\");\n\n\n\n\n\n\n // GraphQL client\n\n // Post component\n\n // Layout\n\n // React state management\n\n // Post collection helper\n\n // Component styles\n\n // queries\n\nfunction Home() {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])([]),\n      posts = _useState[0],\n      setPosts = _useState[1]; // Posts array\n\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1]; // Button loading state\n\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(null),\n      numPosts = _useState3[0],\n      setNumPosts = _useState3[1]; // Number of loadable posts\n\n  /**\n   * Collects initial 6 posts to display\n   */\n\n\n  var collectInitialPosts = /*#__PURE__*/function () {\n    var _ref = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      var allUsers, numPosts, initialPosts, i, post;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _data_index__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].request(_data_queries__WEBPACK_IMPORTED_MODULE_10__[/* ZORA_CREATIONS_BY_USER */ \"a\"]);\n\n            case 2:\n              allUsers = _context.sent;\n              // Collect number of total posts\n              numPosts = Object(_data_queries__WEBPACK_IMPORTED_MODULE_10__[/* calculateLatestCreation */ \"d\"])(allUsers);\n              initialPosts = [];\n\n              if (!numPosts) {\n                _context.next = 15;\n                break;\n              }\n\n              i = numPosts;\n\n            case 7:\n              if (!(i >= numPosts - 5)) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.next = 10;\n              return Object(_data_functions__WEBPACK_IMPORTED_MODULE_8__[/* getPostByID */ \"a\"])(i);\n\n            case 10:\n              post = _context.sent;\n              // Push post to initialPosts\n              initialPosts.push(post);\n\n            case 12:\n              i--;\n              _context.next = 7;\n              break;\n\n            case 15:\n              setPosts([].concat(initialPosts)); // Update new posts\n\n              setNumPosts(numPosts - 6); // Update number of loadable posts count\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function collectInitialPosts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /**\n   * Collects more posts (6 at a time, unless < 6 remaining posts)\n   */\n\n\n  var collectMore = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {\n      var newPosts, i, post;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true); // Toggle button loading\n\n              newPosts = [];\n              console.log(Math.max(numPosts - 5, 0), numPosts); // For numPosts ... max(numPosts - 6, 0)\n\n              i = numPosts;\n\n            case 4:\n              if (!(i >= Math.max(numPosts - 5, 0))) {\n                _context2.next = 13;\n                break;\n              }\n\n              if (!(i !== 2)) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 8;\n              return Object(_data_functions__WEBPACK_IMPORTED_MODULE_8__[/* getPostByID */ \"a\"])(i);\n\n            case 8:\n              post = _context2.sent;\n              // Push post to newPosts\n              newPosts.push(post);\n\n            case 10:\n              i--;\n              _context2.next = 4;\n              break;\n\n            case 13:\n              setPosts([].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(posts), newPosts)); // Append newPosts to posts array\n\n              setNumPosts(numPosts - 6); // Update number of loadable posts count\n\n              setLoading(false); // Toggle button loading\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function collectMore() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Collect initial posts on load\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(collectInitialPosts, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.subheader,\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"span\", {\n        children: [\"Zora.Gallery is an\", \" \", /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          href: \"https://github.com/anish-agnihotri/zora.gallery\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"open-source\"\n        }), \" \", \"community-operated interface to\", \" \", /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n          href: \"https://zora.engineering\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"ZoraOS\"\n        }), \".\"]\n      })\n    }), posts.length > 0 ?\n    /*#__PURE__*/\n    // If posts array contains > 0 posts\n    Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.showcase,\n        children: posts.map(function (post, i) {\n          // For each Zora post\n          return (\n            /*#__PURE__*/\n            // Return Post component\n            Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Post__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n              creatorAddress: post.creator.id,\n              ownerAddress: post.owner.id,\n              createdAtTimestamp: post.createdAtTimestamp,\n              mimeType: post.metadata.mimeType,\n              contentURI: post.contentURI,\n              name: post.metadata.name\n            }, i)\n          );\n        })\n      }), posts && posts.length > 0 && posts[posts.length - 1].id !== \"0\" ?\n      /*#__PURE__*/\n      // If there remain posts that can be loaded, display button\n      Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.showcase__more,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          onClick: function onClick() {\n            return collectMore();\n          },\n          disabled: loading,\n          children: loading ? \"Loading...\" : \"Load More\"\n        })\n      }) :\n      /*#__PURE__*/\n      // Else, display text signalling (end, beginning)\n      Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.showcase__more,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", {\n          children: \"Is this the end or beginning? You decide.\"\n        })\n      })]\n    }) :\n    /*#__PURE__*/\n    // Else, display loading state\n    Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: _styles_pages_Home_module_scss__WEBPACK_IMPORTED_MODULE_9___default.a.loading,\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\", {\n        children: \"Loading...\"\n      })\n    })]\n  });\n}\n\n/***/ })\n\n},[[\"Rw/9\",1,2,3,0,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["/Users/caseyfalvey/Projects/nftgallery/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-3-0!/Users/caseyfalvey/Projects/nftgallery/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-3-1!/Users/caseyfalvey/Projects/nftgallery/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-3-2!/Users/caseyfalvey/Projects/nftgallery/node_modules/resolve-url-loader/index.js??ref--5-oneOf-3-3!/Users/caseyfalvey/Projects/nftgallery/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-3-4!/Users/caseyfalvey/Projects/nftgallery/styles/pages/Home.module.scss","/Users/caseyfalvey/Projects/nftgallery/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2F%5Bindexold%5D&absolutePagePath=private-next-pages%2F%5Bindexold%5D.js!","/Users/caseyfalvey/Projects/nftgallery/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/caseyfalvey/Projects/nftgallery/pages/[indexold].js"],"names":[],"mappings":";;;;;;AAAA;AACA,kBAAkB,qJ;;;;;;;;ACAlB;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAkC;AAC3D;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AAC8B;AACjB;AACe;AAC3C;;AAEG;;AAEI;;AAEI;;AAEE;;AAEM;;AAE4B;;AAEjE;AACf,kBAAkB,sDAAQ;AAC1B;AACA,8BAA8B;;;AAG9B,mBAAmB,sDAAQ;AAC3B;AACA,iCAAiC;;;AAGjC,mBAAmB,sDAAQ;AAC3B;AACA,kCAAkC;;AAElC;AACA;AACA;;;AAGA;AACA,eAAe,mGAAiB,eAAe,iEAAmB;AAClE;AACA,aAAa,iEAAmB;AAChC;AACA;AACA;AACA;AACA,qBAAqB,2DAAM,SAAS,6EAAsB;;AAE1D;AACA;AACA;AACA,yBAAyB,sFAAuB;AAChD;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,2EAAW;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD;;AAEhD,wCAAwC;;AAExC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA,gBAAgB,mGAAiB,eAAe,iEAAmB;AACnE;AACA,aAAa,iEAAmB;AAChC;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA,+DAA+D;;AAE/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,2EAAW;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,oGAAkB,oBAAoB;;AAEvE,wCAAwC;;AAExC,gCAAgC;;AAEhC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG,GAAG;;;AAGN,EAAE,uDAAS;AACX,sBAAsB,8DAAK,CAAC,kEAAM;AAClC,4BAA4B,6DAAI;AAChC,iBAAiB,qEAAM;AACvB,6BAA6B,8DAAK;AAClC,2DAA2D,6DAAI;AAC/D;AACA;AACA;AACA;AACA,SAAS,6DAA6D,6DAAI;AAC1E;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA,IAAI,8DAAK,CAAC,0DAAS;AACnB,8BAA8B,6DAAI;AAClC,mBAAmB,qEAAM;AACzB;AACA;AACA;AACA;AACA;AACA,YAAY,6DAAI,CAAC,gEAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,MAAM,6DAAI;AACV,mBAAmB,qEAAM;AACzB,+BAA+B,6DAAI;AACnC;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,MAAM,6DAAI;AACV,mBAAmB,qEAAM;AACzB,+BAA+B,6DAAI;AACnC;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA;AACA,IAAI,6DAAI;AACR,iBAAiB,qEAAM;AACvB,6BAA6B,6DAAI;AACjC;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH,C","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"subheader\":\"Home_subheader__32KP_\",\"showcase\":\"Home_showcase__14O3g\",\"loading\":\"Home_loading__3Mebc\",\"showcase__more\":\"Home_showcase__more__HDuuX\"};","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/[indexold]\",\n        function () {\n          return require(\"private-next-pages/[indexold].js\");\n        }\n      ]);\n    ","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport client from \"@data/index\"; // GraphQL client\n\nimport Post from \"@components/Post\"; // Post component\n\nimport Layout from \"@components/Layout\"; // Layout\n\nimport { useState, useEffect } from \"react\"; // React state management\n\nimport { getPostByID } from \"@data/functions\"; // Post collection helper\n\nimport styles from \"@styles/pages/Home.module.scss\"; // Component styles\n\nimport { calculateLatestCreation, ZORA_CREATIONS_BY_USER } from \"@data/queries\"; // queries\n\nexport default function Home() {\n  var _useState = useState([]),\n      posts = _useState[0],\n      setPosts = _useState[1]; // Posts array\n\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1]; // Button loading state\n\n\n  var _useState3 = useState(null),\n      numPosts = _useState3[0],\n      setNumPosts = _useState3[1]; // Number of loadable posts\n\n  /**\n   * Collects initial 6 posts to display\n   */\n\n\n  var collectInitialPosts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var allUsers, numPosts, initialPosts, i, post;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return client.request(ZORA_CREATIONS_BY_USER);\n\n            case 2:\n              allUsers = _context.sent;\n              // Collect number of total posts\n              numPosts = calculateLatestCreation(allUsers);\n              initialPosts = [];\n\n              if (!numPosts) {\n                _context.next = 15;\n                break;\n              }\n\n              i = numPosts;\n\n            case 7:\n              if (!(i >= numPosts - 5)) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.next = 10;\n              return getPostByID(i);\n\n            case 10:\n              post = _context.sent;\n              // Push post to initialPosts\n              initialPosts.push(post);\n\n            case 12:\n              i--;\n              _context.next = 7;\n              break;\n\n            case 15:\n              setPosts([].concat(initialPosts)); // Update new posts\n\n              setNumPosts(numPosts - 6); // Update number of loadable posts count\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function collectInitialPosts() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /**\n   * Collects more posts (6 at a time, unless < 6 remaining posts)\n   */\n\n\n  var collectMore = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var newPosts, i, post;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true); // Toggle button loading\n\n              newPosts = [];\n              console.log(Math.max(numPosts - 5, 0), numPosts); // For numPosts ... max(numPosts - 6, 0)\n\n              i = numPosts;\n\n            case 4:\n              if (!(i >= Math.max(numPosts - 5, 0))) {\n                _context2.next = 13;\n                break;\n              }\n\n              if (!(i !== 2)) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 8;\n              return getPostByID(i);\n\n            case 8:\n              post = _context2.sent;\n              // Push post to newPosts\n              newPosts.push(post);\n\n            case 10:\n              i--;\n              _context2.next = 4;\n              break;\n\n            case 13:\n              setPosts([].concat(_toConsumableArray(posts), newPosts)); // Append newPosts to posts array\n\n              setNumPosts(numPosts - 6); // Update number of loadable posts count\n\n              setLoading(false); // Toggle button loading\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function collectMore() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Collect initial posts on load\n\n\n  useEffect(collectInitialPosts, []);\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.subheader,\n      children: /*#__PURE__*/_jsxs(\"span\", {\n        children: [\"Zora.Gallery is an\", \" \", /*#__PURE__*/_jsx(\"a\", {\n          href: \"https://github.com/anish-agnihotri/zora.gallery\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"open-source\"\n        }), \" \", \"community-operated interface to\", \" \", /*#__PURE__*/_jsx(\"a\", {\n          href: \"https://zora.engineering\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"ZoraOS\"\n        }), \".\"]\n      })\n    }), posts.length > 0 ?\n    /*#__PURE__*/\n    // If posts array contains > 0 posts\n    _jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: styles.showcase,\n        children: posts.map(function (post, i) {\n          // For each Zora post\n          return (\n            /*#__PURE__*/\n            // Return Post component\n            _jsx(Post, {\n              creatorAddress: post.creator.id,\n              ownerAddress: post.owner.id,\n              createdAtTimestamp: post.createdAtTimestamp,\n              mimeType: post.metadata.mimeType,\n              contentURI: post.contentURI,\n              name: post.metadata.name\n            }, i)\n          );\n        })\n      }), posts && posts.length > 0 && posts[posts.length - 1].id !== \"0\" ?\n      /*#__PURE__*/\n      // If there remain posts that can be loaded, display button\n      _jsx(\"div\", {\n        className: styles.showcase__more,\n        children: /*#__PURE__*/_jsx(\"button\", {\n          onClick: function onClick() {\n            return collectMore();\n          },\n          disabled: loading,\n          children: loading ? \"Loading...\" : \"Load More\"\n        })\n      }) :\n      /*#__PURE__*/\n      // Else, display text signalling (end, beginning)\n      _jsx(\"div\", {\n        className: styles.showcase__more,\n        children: /*#__PURE__*/_jsx(\"span\", {\n          children: \"Is this the end or beginning? You decide.\"\n        })\n      })]\n    }) :\n    /*#__PURE__*/\n    // Else, display loading state\n    _jsx(\"div\", {\n      className: styles.loading,\n      children: /*#__PURE__*/_jsx(\"h3\", {\n        children: \"Loading...\"\n      })\n    })]\n  });\n}"]}}